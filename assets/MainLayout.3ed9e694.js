import{c as _,l as O,I as w,J as q,K as P,a,h as s,e as k,g as Q,L as I,r as c,M as N,f as p,w as U,y as H,N as V,t as j,O as A,R as J,S as D,U as C,V as x}from"./index.a6c49987.js";import{Q as G,a as R}from"./QResizeObserver.99cfd65c.js";import{a as S}from"./scroll.f10d1186.js";import{u as X}from"./use-quasar.6ac87a43.js";var Y=_({name:"QPageContainer",setup(n,{slots:f}){const{proxy:{$q:r}}=Q(),t=O(q,w);if(t===w)return console.error("QPageContainer needs to be child of QLayout"),w;P(I,!0);const d=a(()=>{const l={};return t.header.space===!0&&(l.paddingTop=`${t.header.size}px`),t.right.space===!0&&(l[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(l.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(l[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),l});return()=>s("div",{class:"q-page-container",style:d.value},k(f.default))}}),Z=_({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:n=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(n.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(n,{slots:f,emit:r}){const{proxy:{$q:t}}=Q(),d=c(null),l=c(t.screen.height),v=c(n.container===!0?0:t.screen.width),z=c({position:0,direction:"down",inflectionPoint:0}),g=c(0),i=c(N.value===!0?0:S()),F=a(()=>"q-layout q-layout--"+(n.container===!0?"containerized":"standard")),T=a(()=>n.container===!1?{minHeight:t.screen.height+"px"}:null),W=a(()=>i.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${i.value}px`}:null),B=a(()=>i.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${i.value}px`,width:`calc(100% + ${i.value}px)`}:null);function E(e){if(n.container===!0||document.qScrollPrevented!==!0){const o={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};z.value=o,n.onScroll!==void 0&&r("scroll",o)}}function M(e){const{height:o,width:u}=e;let h=!1;l.value!==o&&(h=!0,l.value=o,n.onScrollHeight!==void 0&&r("scrollHeight",o),b()),v.value!==u&&(h=!0,v.value=u),h===!0&&n.onResize!==void 0&&r("resize",e)}function K({height:e}){g.value!==e&&(g.value=e,b())}function b(){if(n.container===!0){const e=l.value>g.value?S():0;i.value!==e&&(i.value=e)}}let m=null;const L={instances:{},view:a(()=>n.view),isContainer:a(()=>n.container),rootRef:d,height:l,containerHeight:g,scrollbarWidth:i,totalWidth:a(()=>v.value+i.value),rows:a(()=>{const e=n.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}}),header:p({size:0,offset:0,space:!1}),right:p({size:300,offset:0,space:!1}),footer:p({size:0,offset:0,space:!1}),left:p({size:300,offset:0,space:!1}),scroll:z,animate(){m!==null?clearTimeout(m):document.body.classList.add("q-body--layout-animate"),m=setTimeout(()=>{m=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,o,u){L[e][o]=u}};if(P(q,L),S()>0){let u=function(){e=null,o.classList.remove("hide-scrollbar")},h=function(){if(e===null){if(o.scrollHeight>t.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(e);e=setTimeout(u,300)},y=function($){e!==null&&$==="remove"&&(clearTimeout(e),u()),window[`${$}EventListener`]("resize",h)},e=null;const o=document.body;U(()=>n.container!==!0?"add":"remove",y),n.container!==!0&&y("add"),H(()=>{y("remove")})}return()=>{const e=V(f.default,[s(G,{onScroll:E}),s(R,{onResize:M})]),o=s("div",{class:F.value,style:T.value,ref:n.container===!0?void 0:d,tabindex:-1},e);return n.container===!0?s("div",{class:"q-layout-container overflow-hidden",ref:d},[s(R,{onResize:K}),s("div",{class:"absolute-full",style:W.value},[s("div",{class:"scroll",style:B.value},[o])])]):o}}});const le={__name:"MainLayout",setup(n){const f=c(!1),r=X(),t=()=>{f.value=r.fullscreen.isActive};return j(()=>{window.addEventListener("fullscreenchange",t)}),H(()=>{window.removeEventListener("fullscreenchange",t)}),c(null),(d,l)=>{const v=A("router-view");return J(),D(Z,{view:"hHh lpR fFf"},{default:C(()=>[x(Y,null,{default:C(()=>[x(v)]),_:1})]),_:1})}}};export{le as default};
